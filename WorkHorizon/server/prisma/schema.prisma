generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

// --- Enums (‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å) ---

// --- ‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ ---
enum Role {
  JOB_SEEKER
  EMPLOYER
  SUPER_ADMIN
  FREELANCER
}

// --- ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ö‡∏±‡∏ç‡∏ä‡∏µ ---
enum AccountStatus {
  ACTIVE
  SUSPENDED
  BANNED
}

// --- ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á‡πÉ‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£ ---
enum ApplicationStatus {
  PENDING // ‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£
  REVIEWED // ‡∏ô‡∏≤‡∏¢‡∏à‡πâ‡∏≤‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡πà‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß (‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß)
  SHORTLISTED // ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏≠‡∏ö‡∏™‡∏±‡∏°‡∏†‡∏≤‡∏©‡∏ì‡πå (‡∏Ñ‡∏±‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏Å)
  REJECTED // ‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò
  HIRED // ‡∏à‡πâ‡∏≤‡∏á‡∏á‡∏≤‡∏ô
  COMPLETED // ‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô (‡∏ô‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏ú‡∏•‡∏á‡∏≤‡∏ô)
}

// --- ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á‡∏á‡∏≤‡∏ô ---
enum JobStatus {
  DRAFT // ‡πÅ‡∏ö‡∏ö‡∏£‡πà‡∏≤‡∏á (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà)
  PUBLISHED // ‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà‡πÅ‡∏•‡πâ‡∏ß
  ARCHIVED // ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£ (‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡∏î‡∏π)
  FILLED // ‡πÑ‡∏î‡πâ‡∏Ñ‡∏ô‡πÅ‡∏•‡πâ‡∏ß
}

// --- Enum ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤ ---
enum AdSize {
  LARGE_SLIDE // 900x300 (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πÑ‡∏•‡∏î‡πå‡πÇ‡∏ä‡∏ß‡πå‡∏´‡∏•‡∏±‡∏Å)
  SMALL_BANNER // 300x250 (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏á)
}

// --- 1. ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏Å (Core Models) ---

model User {
  id            String        @id @default(cuid())
  email         String        @unique
  password      String
  role          Role          @default(JOB_SEEKER)
  firstName     String
  lastName      String
  phone         String
  createdAt     DateTime      @default(now())
  walletBalance Decimal       @default(0.00) // üí∞ ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏ô Wallet (‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏µ‡πà 0)
  status        AccountStatus @default(ACTIVE)

  // --- ‡∏≠‡∏±‡∏õ‡πÄ‡∏Å‡∏£‡∏î: ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ ---
  profileImageUrl String? // ‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå
  bio             String? @db.Text // ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‡∏™‡∏±‡πâ‡∏ô‡πÜ

  // --- ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå (Relations) ---
  company              Company? // 1-to-1 ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô EMPLOYER (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Employer)
  applications         Application[] // ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏ó‡∏µ‡πà
  freelancerProfile    FreelancerProfile? // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Freelancer
  services             Service[]
  transactions         Transaction[] // ‚úÖ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå: ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á
  transactionsReceived Transaction[]      @relation("TransactionReceiver")

  // --- ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏´‡∏≤‡∏á‡∏≤‡∏ô ---
  educations    Education[] // ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ (1-to-Many)
  experiences   Experience[] // ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (1-to-Many)
  resumes       Resume[] // ‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ü‡∏•‡πå Resume (1-to-Many)
  skills        Skill[]        @relation("UserSkills") // M-to-N ‡∏Å‡∏±‡∏ö Skill
  savedJobs     SavedJob[] // ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ß‡πâ
  messages      Message[] // ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á
  notifications Notification[] // ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô

  // --- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà: ‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏†‡∏≤‡∏¢‡πÉ‡∏ô ---
  applicantRatings ApplicantRating[]
  internalNotes    InternalNote[]

  // ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Service Conversation (‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö @relation)
  customerServices   ServiceConversation[] @relation("CustomerService")
  freelancerServices ServiceConversation[] @relation("FreelancerService")

  // ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà: ‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏µ‡∏ß‡∏¥‡∏ß Freelancer
  freelancerWorksCompleted  FreelancerWork[]   @relation("FreelancerCompleted") // ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà Freelancer ‡∏ó‡∏≥‡πÄ‡∏™‡∏£‡πá‡∏à
  freelancerWorksHired      FreelancerWork[]   @relation("JobSeekerHired") // ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà Job Seeker ‡∏à‡πâ‡∏≤‡∏á Freelancer
  freelancerReviewsGiven    FreelancerReview[] @relation("ReviewGiver") // ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô
  freelancerReviewsReceived FreelancerReview[] @relation("ReviewReceiver") // ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö
}

model Company {
  id          String  @id @default(cuid())
  user        User    @relation(fields: [userId], references: [id], onDelete: Cascade) // ‡∏•‡∏ö User ‡πÉ‡∏´‡πâ‡∏•‡∏ö Company ‡∏î‡πâ‡∏ß‡∏¢
  userId      String  @unique // 1-to-1
  companyName String
  description String  @db.Text
  website     String?
  address     String?

  // --- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ---
  logoUrl     String? // ‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó
  companySize String? // ‡∏Ç‡∏ô‡∏≤‡∏î‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó (‡πÄ‡∏ä‡πà‡∏ô 1-50, 51-200)
  isVerified  Boolean @default(false) // Admin ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á

  // --- ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå (Relations) ---
  jobs       Job[] // 1 ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡∏°‡∏µ‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏á‡∏≤‡∏ô
  industry   Industry? @relation(fields: [industryId], references: [id], onUpdate: NoAction, onDelete: NoAction)
  industryId String?
}

model FreelancerProfile {
  id     String @id @default(cuid())
  user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)
  userId String @unique // 1 User ‡∏°‡∏µ 1 FreelancerProfile

  professionalTitle String? // ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏¢ ‡πÄ‡∏ä‡πà‡∏ô "Senior Graphic Designer"
  bio               String?  @db.Text // ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
  hourlyRate        Decimal? // ‡∏Ñ‡πà‡∏≤‡∏à‡πâ‡∏≤‡∏á‡∏ï‡πà‡∏≠‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á (‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô)
  portfolioUrl      String? // ‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ú‡∏•‡∏á‡∏≤‡∏ô
  yearsOfExperience Int? // ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏õ‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå
  isVerified        Boolean  @default(false) // ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô Company)
  profileImageUrl   String?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Å‡∏±‡∏ö‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏µ‡∏ß‡∏¥‡∏ß
  completedWorks FreelancerWork[]   @relation("FreelancerProfile") // ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÄ‡∏™‡∏£‡πá‡∏à
  reviews        FreelancerReview[] @relation("FreelancerProfileReviews") // ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö
}

model Service {
  id          String  @id @default(uuid())
  title       String // ‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ ‡πÄ‡∏ä‡πà‡∏ô "‡∏£‡∏±‡∏ö‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ö‡πâ‡∏≤‡∏ô‡∏ß‡∏¥‡∏ä‡∏≤‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå"
  description String  @db.Text // ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
  price       Decimal // ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
  coverImage  String? // ‡∏£‡∏π‡∏õ‡∏õ‡∏Å‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£
  category    String? // ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà (‡πÄ‡∏ä‡πà‡∏ô Homework, Design)

  isActive  Boolean  @default(true) // ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  mainCategoryId String?
  mainCategory   MainCategory? @relation(fields: [mainCategoryId], references: [id])

  // ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö Freelancer (User)
  freelancerId String
  freelancer   User   @relation(fields: [freelancerId], references: [id], onDelete: Cascade)

  //  ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏≤ Service Conversation
  serviceConversations ServiceConversation[]
}

model Job {
  id               String   @id @default(cuid())
  title            String
  description      String   @db.Text
  responsibilities String?  @db.Text
  benefits         String?  @db.Text
  workingHours     String?  @db.Text
  location         String?
  salaryMin        Decimal?
  salaryMax        Decimal?
  createdAt        DateTime @default(now())

  // --- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà: ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ ---
  status    JobStatus @default(DRAFT)
  expiresAt DateTime? // ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£

  //  Field ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Salary Logic
  isSalaryNegotiable Boolean @default(false)

  // --- ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå (Relations) ---
  company   Company @relation(fields: [companyId], references: [id], onDelete: Cascade) // ‡∏•‡∏ö‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡πÉ‡∏´‡πâ‡∏•‡∏ö‡∏á‡∏≤‡∏ô‡∏î‡πâ‡∏ß‡∏¢
  companyId String

  // --- ‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£ Filter ---
  subCategoryId  String?
  subCategory    SubCategory? @relation(fields: [subCategoryId], references: [id])
  mainCategoryId String
  mainCategory   MainCategory @relation(fields: [mainCategoryId], references: [id])
  jobType        JobType      @relation(fields: [jobTypeId], references: [id])
  jobTypeId      String
  province       Province     @relation(fields: [provinceId], references: [id])
  provinceId     String
  district       District     @relation(fields: [districtId], references: [id])
  districtId     String

  // --- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà: ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ (M-to-N) ---
  requiredSkills Skill[] @relation("JobSkills")

  // --- ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏≠‡∏∑‡πà‡∏ô‡πÜ ---
  applications Application[] // 1 ‡∏á‡∏≤‡∏ô ‡∏°‡∏µ‡∏Ñ‡∏ô‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏ô
  savedBy      SavedJob[] // 1 ‡∏á‡∏≤‡∏ô ‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏ô

  images JobImage[]

  @@index([subCategoryId])
  @@index([mainCategoryId])
}

model JobImage {
  id        String   @id @default(cuid())
  url       String // ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏ü‡∏•‡πå (‡πÄ‡∏ä‡πà‡∏ô /uploads/images/...)
  createdAt DateTime @default(now())

  // (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå: ‡∏£‡∏π‡∏õ‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á Job ‡πÑ‡∏´‡∏ô)
  job   Job    @relation(fields: [jobId], references: [id], onDelete: Cascade)
  jobId String

  @@index([jobId])
}

model Application {
  id        String            @id @default(cuid())
  status    ApplicationStatus @default(PENDING)
  appliedAt DateTime          @default(now())

  // --- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≠‡∏ô‡∏™‡∏°‡∏±‡∏Ñ‡∏£ ---
  coverLetter String? @db.Text // ‡∏à‡∏î‡∏´‡∏°‡∏≤‡∏¢‡∏õ‡∏∞‡∏´‡∏ô‡πâ‡∏≤
  resumeId    String? // --- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà: ID ‡∏Ç‡∏≠‡∏á Resume ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£ (‡∏ì ‡∏ï‡∏≠‡∏ô‡∏ô‡∏±‡πâ‡∏ô)
  resume      Resume? @relation(fields: [resumeId], references: [id], onDelete: NoAction) // ‡πÄ‡∏Å‡πá‡∏ö‡∏ß‡πà‡∏≤‡πÉ‡∏ä‡πâ Resume ‡πÑ‡∏´‡∏ô‡∏™‡∏°‡∏±‡∏Ñ‡∏£

  // --- ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå (Relations) ---
  job    Job    @relation(fields: [jobId], references: [id], onDelete: Cascade) // ‡∏•‡∏ö‡∏á‡∏≤‡∏ô ‡πÉ‡∏´‡πâ‡∏•‡∏ö‡πÉ‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏î‡πâ‡∏ß‡∏¢
  jobId  String
  user   User   @relation(fields: [userId], references: [id], onDelete: Cascade) // ‡∏•‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ ‡πÉ‡∏´‡πâ‡∏•‡∏ö‡πÉ‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏î‡πâ‡∏ß‡∏¢
  userId String

  // --- ‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÉ‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ô‡∏µ‡πâ ---
  conversation Conversation? // 1 ‡πÉ‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£ ‡∏≠‡∏≤‡∏à‡∏°‡∏µ 1 ‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó

  // --- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà: ‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏†‡∏≤‡∏¢‡πÉ‡∏ô ---
  ratings       ApplicantRating[]
  internalNotes InternalNote[]

  @@unique([jobId, userId]) // 1 ‡∏Ñ‡∏ô ‡∏™‡∏°‡∏±‡∏Ñ‡∏£ 1 ‡∏á‡∏≤‡∏ô ‡πÑ‡∏î‡πâ‡πÅ‡∏Ñ‡πà 1 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á
}

model FeaturedSection {
  id        String @id @default(cuid())
  title     String // "‡πÄ‡∏¢‡πá‡∏ô‡∏â‡πà‡∏≥ ‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏à‡∏±‡∏î ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÑ‡∏ü..."
  sortOrder Int    @default(0) // (‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏≠‡∏¢‡∏≤‡∏Å‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö)

  // (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå) ‡πÉ‡∏´‡πâ Admin ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 1 ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏´‡∏•‡∏±‡∏Å
  mainCategory   MainCategory @relation(fields: [mainCategoryId], references: [id])
  mainCategoryId String

  createdAt   DateTime @default(now())
  contentType String   @default("JOB") // 'JOB' ‡∏´‡∏£‡∏∑‡∏≠ 'SERVICE'

  @@index([mainCategoryId])
}

// --- 2. ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ (User Profile Models) ---

// --- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà: ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ---
model Education {
  id           String    @id @default(cuid())
  user         User      @relation(fields: [userId], references: [id], onDelete: Cascade)
  userId       String
  institute    String // ‡∏™‡∏ñ‡∏≤‡∏ö‡∏±‡∏ô
  degree       String // ‡∏ß‡∏∏‡∏í‡∏¥‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤
  fieldOfStudy String // ‡∏™‡∏≤‡∏Ç‡∏≤‡∏ß‡∏¥‡∏ä‡∏≤
  startDate    DateTime
  endDate      DateTime? // ‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏à‡∏ö
}

// --- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà: ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ---
model Experience {
  id          String    @id @default(cuid())
  user        User      @relation(fields: [userId], references: [id], onDelete: Cascade)
  userId      String
  title       String // ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á
  company     String // ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó
  description String?   @db.Text // ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥
  startDate   DateTime
  endDate     DateTime? // ‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏¢‡∏±‡∏á‡∏ó‡∏≥‡∏≠‡∏¢‡∏π‡πà
}

// --- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà: ‡πÑ‡∏ü‡∏•‡πå Resume ---
model Resume {
  id         String   @id @default(cuid())
  user       User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  userId     String
  filename   String // ‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå
  url        String // ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏ü‡∏•‡πå (‡πÄ‡∏ä‡πà‡∏ô S3, Firebase Storage)
  uploadedAt DateTime @default(now())

  applications Application[] // Resume 1 ‡πÑ‡∏ü‡∏•‡πå ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏á‡∏≤‡∏ô
}

// --- 3. ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏•‡∏±‡∏Å (Data Masters / Filters) ---

model MainCategory {
  id       String   @id @default(cuid())
  name     String   @unique
  imageUrl String? // (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡πá‡∏ö Path ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î)
  createAt DateTime @default(now())
  updateAt DateTime @updatedAt

  // (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå) 1 MainCategory ‡∏°‡∏µ‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢ SubCategory
  subCategorys SubCategory[]

  // (‡πÄ‡∏û‡∏¥‡πà‡∏°) (‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏á‡πà‡∏≤‡∏¢) 1 MainCategory ‡∏°‡∏µ‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢ Job
  jobs Job[]

  featuredSections FeaturedSection[]
  services         Service[]
}

model SubCategory {
  id        String   @id @default(cuid())
  name      String   
  iconCode  String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå) 1 SubCategory ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô 1 MainCategory
  mainCategoryId String
  mainCategory   MainCategory @relation(fields: [mainCategoryId], references: [id], onDelete: Cascade)
  // (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå) 1 SubCategory ‡∏°‡∏µ‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢ Job
  jobs           Job[]

  @@index([mainCategoryId])
  @@unique([name, mainCategoryId])
}

model JobType {
  id   String @id @default(cuid())
  name String @unique
  jobs Job[]
}

model Province {
  id        String     @id @default(cuid())
  name      String     @unique
  jobs      Job[]
  districts District[]
}

model District {
  id         String   @id @default(cuid())
  name       String
  province   Province @relation(fields: [provinceId], references: [id])
  provinceId String
  jobs       Job[]

  @@unique([name, provinceId])
}

// --- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà: ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ó‡∏±‡∏Å‡∏©‡∏∞ (Skills) ---
model Skill {
  id   String @id @default(cuid())
  name String @unique

  // ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå M-to-N (Many-to-Many)
  users User[] @relation("UserSkills") // User ‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏ô ‡∏°‡∏µ Skill ‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ
  jobs  Job[]  @relation("JobSkills") // Job ‡∏´‡∏•‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ Skill ‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ
}

// --- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà: ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏° (Industry) ---
model Industry {
  id   String @id @default(cuid())
  name String @unique

  companies Company[] // 1 ‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏° ‡∏°‡∏µ‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó
}

// --- 4. ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå (Feature Models) ---

// --- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà: ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ß‡πâ (Saved Jobs) ---
model SavedJob {
  id      String   @id @default(cuid())
  user    User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  userId  String
  job     Job      @relation(fields: [jobId], references: [id], onDelete: Cascade)
  jobId   String
  savedAt DateTime @default(now())

  @@unique([userId, jobId]) // 1 ‡∏Ñ‡∏ô ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å 1 ‡∏á‡∏≤‡∏ô ‡πÑ‡∏î‡πâ‡πÅ‡∏Ñ‡πà‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
}

// --- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà: ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏ä‡∏ó (Messaging) ---
model Conversation {
  id String @id @default(cuid())

  // 1 ‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏ó‡∏ô‡∏≤ ‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å 1 ‡πÉ‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£
  application   Application @relation(fields: [applicationId], references: [id], onDelete: Cascade)
  applicationId String      @unique

  messages Message[] // 1 ‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó ‡∏°‡∏µ‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Message {
  id        String   @id @default(cuid())
  content   String   @db.Text
  createdAt DateTime @default(now())

  // --- ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡πÄ‡∏î‡∏¥‡∏° (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Job Application) ---
  conversationId String?
  conversation   Conversation? @relation(fields: [conversationId], references: [id], onDelete: Cascade)

  // ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°: ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Service)
  serviceConversationId String?
  serviceConversation   ServiceConversation? @relation(fields: [serviceConversationId], references: [id])

  sender   User   @relation(fields: [senderId], references: [id], onDelete: Cascade)
  senderId String // ID ‡∏Ç‡∏≠‡∏á User ‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á
}

model ServiceConversation {
  id        String  @id @default(uuid())
  serviceId String
  service   Service @relation(fields: [serviceId], references: [id])

  user1Id String // Customer (‡∏Ñ‡∏ô‡∏ó‡∏±‡∏Å)
  user1   User   @relation("CustomerService", fields: [user1Id], references: [id])

  user2Id String // Freelancer (‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏á‡∏≤‡∏ô)
  user2   User   @relation("FreelancerService", fields: [user2Id], references: [id])

  // ‚úÖ ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° (Message)
  messages Message[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏´‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏π‡πà‡∏ô‡∏µ‡πâ ‡∏°‡∏µ‡πÑ‡∏î‡πâ‡πÅ‡∏Ñ‡πà 1 ‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
  @@unique([serviceId, user1Id])
}

//  ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô (Notifications) ---
model Notification {
  id        String   @id @default(cuid())
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  userId    String // ‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
  content   String // ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ (‡πÄ‡∏ä‡πà‡∏ô "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó A ‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡πà‡∏≤‡∏ô‡πÉ‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏•‡πâ‡∏ß")
  link      String? // ‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏û‡∏≤‡πÑ‡∏õ (‡πÄ‡∏ä‡πà‡∏ô /application/123)
  isRead    Boolean  @default(false)
  createdAt DateTime @default(now())
}

// ---  ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤ (Admin Ads) ---
model Advertisement {
  id        String   @id @default(cuid())
  title     String // ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤
  imageUrl  String // URL ‡∏Ç‡∏≠‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô /uploads)
  linkUrl   String? // URL ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏õ
  isActive  Boolean  @default(true) // Admin ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡πÑ‡∏î‡πâ
  adSize    AdSize   @default(LARGE_SLIDE)
  createdAt DateTime @default(now())
}

model ApplicantRating {
  id            String      @id @default(cuid())
  rating        Int // (1-5)
  comment       String?     @db.Text
  rater         User        @relation(fields: [raterId], references: [id], onDelete: Cascade)
  raterId       String
  application   Application @relation(fields: [applicationId], references: [id], onDelete: Cascade)
  applicationId String

  @@unique([raterId, applicationId]) // (1 User ‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô 1 ‡πÉ‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£ ‡πÑ‡∏î‡πâ 1 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á)
}

model InternalNote {
  id            String      @id @default(cuid())
  content       String      @db.Text
  author        User        @relation(fields: [authorId], references: [id], onDelete: Cascade)
  authorId      String
  application   Application @relation(fields: [applicationId], references: [id], onDelete: Cascade)
  applicationId String
  createdAt     DateTime    @default(now())
}

// ‚úÖ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà: FreelancerWork - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà Freelancer ‡∏ó‡∏≥‡πÄ‡∏™‡∏£‡πá‡∏à
// (JOB_SEEKER ‡∏ó‡∏±‡∏Å‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö FREELANCER ‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡∏Å‡∏•‡∏á‡∏Å‡∏±‡∏ô ‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô FREELANCER ‡∏Å‡∏î‡∏ß‡πà‡∏≤‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à)
model FreelancerWork {
  id String @id @default(cuid())

  // ‚úÖ ‡∏ú‡∏π‡πâ‡∏à‡πâ‡∏≤‡∏á: JOB_SEEKER ‡∏ó‡∏µ‡πà‡∏à‡πâ‡∏≤‡∏á Freelancer
  jobSeekerId String
  jobSeeker   User   @relation("JobSeekerHired", fields: [jobSeekerId], references: [id], onDelete: Cascade)

  // ‚úÖ ‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏à‡πâ‡∏≤‡∏á: FREELANCER ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
  freelancerId String
  freelancer   User   @relation("FreelancerCompleted", fields: [freelancerId], references: [id], onDelete: Cascade)

  // ‚úÖ ‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö FreelancerProfile ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏ö‡∏ú‡∏•‡∏á‡∏≤‡∏ô
  freelancerProfileId String
  freelancerProfile   FreelancerProfile @relation("FreelancerProfile", fields: [freelancerProfileId], references: [id], onDelete: Cascade)

  // ‚úÖ ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏á‡∏≤‡∏ô
  jobTitle    String // ‡∏ä‡∏∑‡πà‡∏≠‡∏á‡∏≤‡∏ô ‡πÄ‡∏ä‡πà‡∏ô "‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó"
  description String?              @db.Text // ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥
  status      FreelancerWorkStatus @default(OFFER_PENDING) // ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏á‡∏≤‡∏ô
  completedAt DateTime? // ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà Freelancer ‡∏Å‡∏î "‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô" (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å default now)

  // ‚úÖ Fields ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Advanced Workflow
  price         Decimal? // ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏ô‡∏≠ (Custom Offer)
  duration      Int? // ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (‡∏ß‡∏±‡∏ô)
  revisionCount Int      @default(0) // ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡πÅ‡∏Å‡πâ

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // ‚úÖ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå: ‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß (1-to-1)
  review FreelancerReview?

  // ‚úÖ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå: ‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô (1-to-Many)
  transactions Transaction[]

  @@index([freelancerId])
  @@index([jobSeekerId])
  @@index([freelancerProfileId])
}

// ‚úÖ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà: FreelancerReview - ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏à‡∏≤‡∏Å JOB_SEEKER
model FreelancerReview {
  id String @id @default(cuid())

  // ‚úÖ ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô 1-5 ‡∏î‡∏≤‡∏ß
  rating Int // 1-5

  // ‚úÖ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô
  comment String? @db.Text

  // ‚úÖ ‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô (1-to-1)
  workId String         @unique
  work   FreelancerWork @relation(fields: [workId], references: [id], onDelete: Cascade)

  // ‚úÖ ‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß: JOB_SEEKER
  reviewerId String
  reviewer   User   @relation("ReviewGiver", fields: [reviewerId], references: [id], onDelete: Cascade)

  // ‚úÖ ‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏µ‡∏ß‡∏¥‡∏ß: FREELANCER
  reviewedId String
  reviewed   User   @relation("ReviewReceiver", fields: [reviewedId], references: [id], onDelete: Cascade)

  // ‚úÖ ‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö FreelancerProfile ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏µ‡∏ß‡∏¥‡∏ß
  freelancerProfileId String
  freelancerProfile   FreelancerProfile @relation("FreelancerProfileReviews", fields: [freelancerProfileId], references: [id], onDelete: Cascade)

  createdAt DateTime @default(now())

  @@index([reviewerId])
  @@index([reviewedId])
  @@index([freelancerProfileId])
}

enum FreelancerWorkStatus {
  OFFER_PENDING // ‡πÄ‡∏™‡∏ô‡∏≠‡∏£‡∏≤‡∏Ñ‡∏≤ (‡∏£‡∏≠‡∏à‡πâ‡∏≤‡∏á)
  IN_PROGRESS // ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
  SUBMITTED // ‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß (‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à)
  REVISION_REQUESTED // ‡∏Ç‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
  COMPLETED // ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô
  DISPUTED // ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏û‡∏¥‡∏û‡∏≤‡∏ó
  CANCELLED // ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
}

// --- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà: ‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô (Mock Payment) ---
model Transaction {
  id         String        @id @default(cuid())
  amount     Decimal // ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô
  status     PaymentStatus @default(PENDING)
  slipUrl    String? // ‡πÄ‡∏Å‡πá‡∏ö‡∏£‡∏π‡∏õ‡∏™‡∏•‡∏¥‡∏õ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
  gatewayRef String? // ‡πÄ‡∏•‡∏Ç‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á (Mock ID)

  method PaymentMethod // üëà ‡∏à‡πà‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡∏≠‡∏∞‡πÑ‡∏£?

  // ‡πÉ‡∏Ñ‡∏£‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏à‡πà‡∏≤‡∏¢
  payer   User   @relation(fields: [payerId], references: [id], onDelete: Cascade)
  payerId String

  // ‡∏à‡πà‡∏≤‡∏¢‡∏Ñ‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£ (‡πÄ‡∏ä‡πà‡∏ô ‡∏à‡πâ‡∏≤‡∏á‡∏á‡∏≤‡∏ô Freelancer)
  work   FreelancerWork? @relation(fields: [workId], references: [id])
  workId String?

  // ‡∏Ñ‡∏ô‡∏£‡∏±‡∏ö (Receiver) - ‡πÉ‡∏™‡πà ? ‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤ Wallet ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
  receiver   User?   @relation("TransactionReceiver", fields: [receiverId], references: [id])
  receiverId String?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

// --- ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô ---
enum PaymentStatus {
  PENDING
  SUCCESS
  FAILED
}

// --- ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô ---
enum PaymentMethod {
  CREDIT_CARD
  BANK_TRANSFER
  WALLET
}
